<meta name="description" content="{{ if .Params.Subtitle }}{{ .Params.Subtitle }}{{else}}{{ .Site.Params.Subtitle }}{{ end }}" />

<title itemprop="name">{{ default .Site.Title .Title }}</title>
<meta property="og:title" content="{{ default .Site.Title .Title }}" />
<meta name="twitter:title" content="{{ default .Site.Title .Title }}" />
<meta itemprop="name" content="{{ default .Site.Title .Title }}" />
<meta property="og:site_name" content="{{ .Site.Title }}" />
{{ $desc := .Site.Params.Subtitle }}
{{ with .Params.description }}{{ $desc = . }}{{ end }}
{{ if and (not .Params.description) .Plain }}
    {{ $desc = .Plain | truncate 160 }}
{{ end }}
<meta name="description" content="{{ $desc }}" />
<meta itemprop="description" content="{{ $desc }}" />
<meta property="og:description" content="{{ $desc }}" />
<meta name="twitter:description" content="{{ $desc }}" />
<base href="{{ .RelPermalink }}">
<link rel="canonical" href="{{ .Permalink }}" itemprop="url" /> 
<meta name="url" content="{{ .Permalink }}" />
<meta property="og:url" content="{{ .Permalink }}" />
<meta name="twitter:url" content="{{ .Permalink }}" />
<meta name="twitter:card" content="summary_large_image" />
{{ with .Site.Params.Author }}
    <meta name="twitter:creator" content="{{ . }}" />
{{ end }}
{{ $img := slice }}
{{ $scratch := newScratch }}
{{ if .Params.images }}
    {{ partial "helpers/get" (dict "scratch" $scratch "row" .Params ) }}
    {{ $img = $scratch.Get "img" }}
{{ end }}
{{ with $img }}
    {{ $i := .Fill "1200x630 center jpg" }}
    <meta itemprop="image" content="{{ $i.Permalink }}" />
    <meta property="og:image" content="{{ $i.Permalink }}" />
    <meta name="twitter:image" content="{{ $i.Permalink }}" />
{{ end }}
<meta property="og:locale" content="{{ .Language.Lang }}">
